{"ast":null,"code":"import _toConsumableArray from\"/Users/cd/Documents/Projects/set-game2/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import{useGameDetails}from\"../context/GameLogic\";import findIndex from\"lodash.findindex\";import Card from\"./Card\";import\"./Gameboard.css\";import{jsx as _jsx}from\"react/jsx-runtime\";export default function Gameboard(){var _useGameDetails=useGameDetails(),deck=_useGameDetails.deck,setDeck=_useGameDetails.setDeck;var selectCard=function selectCard(card){var selectedCards=deck.filter(function(card){return card.selected===true;});var selectedCardId=card.id;var selectedCardIdx=findIndex(deck,{id:selectedCardId});var selectedCardsIncludesCard=selectedCards.some(function(card){return card.id===selectedCardId;});var newDeck=_toConsumableArray(deck);if(selectedCards.length<3&&!selectedCardsIncludesCard){card.selected=true;newDeck.splice(selectedCardIdx,1,card);setDeck(newDeck);}};return/*#__PURE__*/_jsx(\"div\",{className:\"gameboard\",children:deck.length&&deck.map(function(card,idx){var imageUrl=require(\"../../public/images/cards/\".concat(card.id,\".gif\"));return/*#__PURE__*/_jsx(Card,{card:card,idx:\"\".concat(card.id),imageUrl:imageUrl,selectCard:selectCard},card.id);})});}","map":{"version":3,"names":["useGameDetails","findIndex","Card","jsx","_jsx","Gameboard","_useGameDetails","deck","setDeck","selectCard","card","selectedCards","filter","selected","selectedCardId","id","selectedCardIdx","selectedCardsIncludesCard","some","newDeck","_toConsumableArray","length","splice","className","children","map","idx","imageUrl","require","concat"],"sources":["/Users/cd/Documents/Projects/set-game2/src/components/Gameboard.tsx"],"sourcesContent":["import { useGameDetails } from \"../context/GameLogic\";\nimport { CardType } from \"../types/CardType\";\nimport findIndex from \"lodash.findindex\";\nimport Card from \"./Card\";\nimport \"./Gameboard.css\";\n\nexport default function Gameboard() {\n  const { deck, setDeck } = useGameDetails();\n\n  const selectCard = (card: CardType) => {\n    const selectedCards = deck.filter((card) => card.selected === true);\n\n    const selectedCardId = card.id;\n    const selectedCardIdx = findIndex(deck, { id: selectedCardId });\n\n    const selectedCardsIncludesCard = selectedCards.some(\n      (card) => card.id === selectedCardId\n    );\n\n    let newDeck = [...deck];\n\n    if (selectedCards.length < 3 && !selectedCardsIncludesCard) {\n      card.selected = true;\n      newDeck.splice(selectedCardIdx, 1, card);\n      setDeck(newDeck);\n    }\n  };\n\n  return (\n    <div className=\"gameboard\">\n      {deck.length &&\n        deck.map((card, idx) => {\n          const imageUrl = require(`../../public/images/cards/${card.id}.gif`);\n\n          return (\n            <Card\n              card={card}\n              key={card.id}\n              idx={`${card.id}`}\n              imageUrl={imageUrl}\n              selectCard={selectCard}\n            />\n          );\n        })}\n    </div>\n  );\n}\n"],"mappings":"oIAAA,OAASA,cAAc,KAAQ,sBAAsB,CAErD,MAAO,CAAAC,SAAS,KAAM,kBAAkB,CACxC,MAAO,CAAAC,IAAI,KAAM,QAAQ,CACzB,MAAO,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEzB,cAAe,SAAS,CAAAC,SAASA,CAAA,CAAG,CAClC,IAAAC,eAAA,CAA0BN,cAAc,CAAC,CAAC,CAAlCO,IAAI,CAAAD,eAAA,CAAJC,IAAI,CAAEC,OAAO,CAAAF,eAAA,CAAPE,OAAO,CAErB,GAAM,CAAAC,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAIC,IAAc,CAAK,CACrC,GAAM,CAAAC,aAAa,CAAGJ,IAAI,CAACK,MAAM,CAAC,SAACF,IAAI,QAAK,CAAAA,IAAI,CAACG,QAAQ,GAAK,IAAI,GAAC,CAEnE,GAAM,CAAAC,cAAc,CAAGJ,IAAI,CAACK,EAAE,CAC9B,GAAM,CAAAC,eAAe,CAAGf,SAAS,CAACM,IAAI,CAAE,CAAEQ,EAAE,CAAED,cAAe,CAAC,CAAC,CAE/D,GAAM,CAAAG,yBAAyB,CAAGN,aAAa,CAACO,IAAI,CAClD,SAACR,IAAI,QAAK,CAAAA,IAAI,CAACK,EAAE,GAAKD,cAAc,EACtC,CAAC,CAED,GAAI,CAAAK,OAAO,CAAAC,kBAAA,CAAOb,IAAI,CAAC,CAEvB,GAAII,aAAa,CAACU,MAAM,CAAG,CAAC,EAAI,CAACJ,yBAAyB,CAAE,CAC1DP,IAAI,CAACG,QAAQ,CAAG,IAAI,CACpBM,OAAO,CAACG,MAAM,CAACN,eAAe,CAAE,CAAC,CAAEN,IAAI,CAAC,CACxCF,OAAO,CAACW,OAAO,CAAC,CAClB,CACF,CAAC,CAED,mBACEf,IAAA,QAAKmB,SAAS,CAAC,WAAW,CAAAC,QAAA,CACvBjB,IAAI,CAACc,MAAM,EACVd,IAAI,CAACkB,GAAG,CAAC,SAACf,IAAI,CAAEgB,GAAG,CAAK,CACtB,GAAM,CAAAC,QAAQ,CAAGC,OAAO,8BAAAC,MAAA,CAA8BnB,IAAI,CAACK,EAAE,QAAM,CAAC,CAEpE,mBACEX,IAAA,CAACF,IAAI,EACHQ,IAAI,CAAEA,IAAK,CAEXgB,GAAG,IAAAG,MAAA,CAAKnB,IAAI,CAACK,EAAE,CAAG,CAClBY,QAAQ,CAAEA,QAAS,CACnBlB,UAAU,CAAEA,UAAW,EAHlBC,IAAI,CAACK,EAIX,CAAC,CAEN,CAAC,CAAC,CACD,CAAC,CAEV"},"metadata":{},"sourceType":"module","externalDependencies":[]}